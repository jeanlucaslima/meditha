---
export interface Props {
  size?: 'sm' | 'md' | 'lg';
  class?: string;
  padding?: boolean;
  dropShadow?: boolean;
  ariaLabel?: string;
}

const {
  size = 'md',
  class: className = '',
  padding = true,
  dropShadow = true,
  ariaLabel = 'Método Lux - Durma Bem'
} = Astro.props;

const wrapperClass = `relative flex justify-center ${padding ? 'py-16' : ''} ${className}`.trim();

const sizeClasses = {
  sm: 'max-w-[160px]',
  md: 'max-w-[320px]',
  lg: 'max-w-[420px]'
} as const;

const svgClasses = [
  'w-full',
  sizeClasses[size] ?? sizeClasses.md,
  dropShadow ? 'drop-shadow-lg' : ''
].filter(Boolean).join(' ');
---

<div class={wrapperClass}>
  <svg
    class={svgClasses}
    role="img"
    aria-label={ariaLabel}
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 588.61 598.19"
  >
    <title>Método Lux - Durma Bem</title>
    <g>
      <path id="head" d="M230.38,101.03c79.78-4.94,170.62,29.87,218.97,95.14,3.88,5.23,7.17,14.33-1.7,16.27-9.26,2.02-19.09-14.9-25.22-21.31C304.58,68.01,96.26,104.2,32.29,263.59c-56.37,140.46,41.43,298.49,189.94,315.54,161.84,18.57,287.92-121.77,256.8-280.77-1.26-6.41-6.95-20.66-4.1-25.69,2.57-4.54,8.12-5.65,12.38-2.57,4.48,3.24,9.64,30.54,10.72,37.23,35.94,222.55-218.85,375.67-399.23,239.39C-83.94,408.66,2.36,115.16,230.38,101.03Z" />
      <path id="mouth" d="M153.37,325.73c4.72-1.4,8.78.21,11.08,4.49.06,11.53-1.69,23.19-.77,34.75,5.41,68.27,81.39,117.11,143.86,83.95,7.14-3.79,19.83-17.3,25.82-5.89,5.66,10.77-18.88,21.62-26.86,24.83-83.12,33.45-165.43-38.31-159.87-123.9.33-5.03,1.1-16.55,6.74-18.23Z" />
      <path id="z2" d="M480.34,96.73c8.52,1.98,17.15,5.02,25.49,7.98,10.8,3.83,31.69,9.96,40.69,15.26,7.58,4.46,6.13,12.12-1.98,14.54l-86.19-30.27c-5.81-1.89-7.04-9.63-2.35-13.36l101.26-52.1c-.11-1.37-1.46-1.59-2.45-2.04-10.98-4.99-26.21-8.53-38.03-12.92-5.44-2.02-26.15-8.82-28.34-12.62-4.01-6.97,2.06-12.66,9.89-10.89,8.99,2.04,22.94,9.14,32.43,12.51,14.11,5.01,34.75,10.16,47.48,16.45,10.46,5.17,5.98,11.49-1.71,16.3-28,17.52-62.91,30.02-91.51,47.35-1.6.97-3.91,2.03-4.7,3.78Z" />
      <path id="z1" d="M504.32,231.6c15.9,5.79,35.6,9.01,50.93,15.51,11.33,4.8,5.85,17.24-5.24,14.23-20.34-8.25-46.35-11.91-65.95-20.96-6.8-3.14-8.97-8.95-2.66-14.21l78.85-43.01c.02-1.67-28.16-9.04-31.72-10.22-6.53-2.18-24.26-5.83-24.26-13.75,0-14.46,23.07-2.46,30.26-.23,13.69,4.25,37.13,9.24,48.99,14.94,7.09,3.41,6.34,9.57.45,13.99-20.62,15.47-54.54,27.19-77.34,41.54-.88.55-2.22.95-2.3,2.18Z" />
      <path id="eye" d="M204.32,217.84c4.54-1.04,9.49,1.11,10.88,5.75,1.06,3.56-1.73,11.18-1.69,15.51.31,34.03,34.98,58.36,67.02,48.96,7.25-2.13,14.43-10.06,21.02-4.04,10.75,9.83-8.32,17.8-16.02,20.03-48.44,14.01-94.55-27.25-87.83-76.84.51-3.79,2.52-8.43,6.62-9.36Z" />
      <path id="eye-2" d="M357.19,332.7c14.64-3.23,8.5,16.38,9.28,24.27,2.76,27.92,34.28,44.08,60.13,38.17,8.21-1.87,17.43-11.32,24.29-5.71,7.91,6.48-.48,13.96-6.83,17.17-31.93,16.14-72.03,2.45-88.13-29.11-4.57-8.96-12.91-41.68,1.27-44.8Z" />
    </g>
  </svg>
</div>

<style>
  @keyframes floatFadeWobble {
    0% {
      transform: translate(0, 0) rotate(0deg) scale(1);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    40% {
      transform: translate(4px, -30px) rotate(3deg) scale(1.05);
    }
    80% {
      transform: translate(-4px, -60px) rotate(-5deg) scale(1.1);
      opacity: 1;
    }
    100% {
      transform: translate(0, 0) rotate(0deg) scale(1);
      opacity: 0;
    }
  }

  #z1,
  #z2 {
    transform-box: fill-box;
    transform-origin: center;
    animation: floatFadeWobble 4.5s cubic-bezier(0.42, 0, 0.58, 1) infinite;
  }

  #z2 {
    animation-delay: 2.25s;
  }

  @media (prefers-reduced-motion: reduce) {
    #z1,
    #z2 {
      animation: none;
    }
  }
</style>
